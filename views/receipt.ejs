<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Booking Receipt #<%= data.id %></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f3f4f6; padding: 40px 0; font-family: 'Helvetica', sans-serif; }
        .receipt-container { 
            max-width: 700px; margin: auto; background: white; padding: 40px; 
            border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
        }
        .brand-gold { color: #D4AF37; font-weight: bold; text-transform: uppercase; letter-spacing: 2px; }
        .status-badge { 
            padding: 5px 15px; border-radius: 50px; font-size: 12px; font-weight: bold; text-transform: uppercase;
            background: #e8f5e9; color: #2e7d32; border: 1px solid #2e7d32;
        }
        .table-custom th { color: #666; font-weight: 600; font-size: 13px; text-transform: uppercase; }
        .total-row { font-size: 1.2rem; font-weight: bold; color: #D4AF37; }
        @media print { 
            body { background: white; } 
            .no-print { display: none; } 
            .receipt-container { box-shadow: none; border: 1px solid #ddd; }
        }
    </style>
</head>
<body>

<div class="receipt-container">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-5">
        <h3 class="brand-gold m-0">HostelHub</h3>
        <div class="text-end">
            <h5 class="m-0">INVOICE / RECEIPT</h5>
            <small class="text-muted">Ref: #HB-<%= data.id %></small>
        </div>
    </div>

    <!-- Info -->
    <div class="row mb-4">
        <div class="col-6">
            <p class="text-muted small mb-1">BILLED TO:</p>
            <h5 class="fw-bold"><%= data.student_name %></h5>
            <p class="mb-0 small"><%= data.email %></p>
            <p class="small"><%= data.phone %></p>
        </div>
        <div class="col-6 text-end">
            <p class="text-muted small mb-1">STATUS:</p>
            <span class="status-badge"><%= data.status %></span>
            <p class="mt-2 small text-muted">Date: <%= new Date(data.created_at).toLocaleDateString() %></p>
        </div>
    </div>

    <!-- Table -->
    <table class="table table-custom mb-4">
        <thead class="border-top border-bottom">
            <tr>
                <th>Description</th>
                <th class="text-end">Amount</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="py-3">
                    <strong><%= data.hostel_name %></strong><br>
                    <small class="text-muted"><%= data.area %></small>
                </td>
                <td class="text-end py-3">Rs. <%= data.price.toLocaleString() %></td>
            </tr>
            <tr>
                <td class="py-3">Security Deposit / Booking Fee</td>
                <td class="text-end py-3">Rs. 0</td>
            </tr>
        </tbody>
        <tfoot class="border-top">
            <tr>
                <td class="py-3 total-row">TOTAL DUE</td>
                <td class="text-end py-3 total-row">Rs. <%= data.price.toLocaleString() %></td>
            </tr>
        </tfoot>
    </table>

    <!-- Footer -->
    <div class="mt-5 text-center">
        <p class="small text-muted">This is a computer-generated receipt and requires no signature.</p>
        <div class="no-print mt-4">
            <button onclick="window.print()" class="btn btn-dark btn-sm px-4">Print / Save PDF</button>
            <button onclick="window.close()" class="btn btn-outline-secondary btn-sm px-4">Close</button>
        </div>
    </div>
</div>

</body>
</html>