<%- include('partials/header_sidebar') %>

<div class="content-wrapper container mt-5 mb-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold" style="font-family: 'Cinzel';">Comparison Showdown</h2>
        <p class="text-muted">Detailed side-by-side analysis</p>
    </div>

    <!-- COMPARISON TABLE -->
    <div class="table-responsive shadow-lg rounded mb-5">
        <table class="table table-bordered text-center align-middle mb-0 bg-white">
            <thead class="bg-dark text-white">
                <tr>
                    <th style="width: 20%;">Feature</th>
                    <th style="width: 40%;"><%= h1.name %></th>
                    <th style="width: 40%;"><%= h2.name %></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="fw-bold bg-light">Preview</td>
                    <td><img src="/uploads/<%= h1.image %>" class="rounded shadow-sm" style="width: 120px; height: 80px; object-fit: cover;"></td>
                    <td><img src="/uploads/<%= h2.image %>" class="rounded shadow-sm" style="width: 120px; height: 80px; object-fit: cover;"></td>
                </tr>
                <tr>
                    <td class="fw-bold bg-light">Price</td>
                    <td class="<%= h1.id === priceWinner ? 'bg-success bg-opacity-10 fw-bold text-success' : '' %>">
                        Rs. <%= h1.price.toLocaleString() %>
                        <% if(h1.id === priceWinner) { %> <i class="bi bi-check-circle-fill ms-1"></i> <% } %>
                    </td>
                    <td class="<%= h2.id === priceWinner ? 'bg-success bg-opacity-10 fw-bold text-success' : '' %>">
                        Rs. <%= h2.price.toLocaleString() %>
                        <% if(h2.id === priceWinner) { %> <i class="bi bi-check-circle-fill ms-1"></i> <% } %>
                    </td>
                </tr>
                <tr>
                    <td class="fw-bold bg-light">Facilities</td>
                    <td><% if(h1.facilities) h1.facilities.split(',').forEach(f => { %><span class='badge bg-secondary m-1'><%= f %></span><% }) %></td>
                    <td><% if(h2.facilities) h2.facilities.split(',').forEach(f => { %><span class='badge bg-secondary m-1'><%= f %></span><% }) %></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="text-center">
        <a href="/" class="btn btn-outline-dark rounded-pill px-4">Back to Search</a>
    </div>
</div>
<%- include('partials/footer') %>